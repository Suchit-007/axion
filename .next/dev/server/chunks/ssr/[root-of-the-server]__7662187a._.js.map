{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Projects/Sprintx_hack/src/app/register/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function RegisterPage() {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    phone: '',\r\n    role: 'student' as 'student' | 'staff' | 'technician'\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        router.push('/login?message=Registration successful');\r\n      } else {\r\n        // Show more detailed error message\r\n        const errorMsg = data.error \r\n          ? `${data.message}\\n\\nDetails: ${data.error}` \r\n          : data.message || 'Registration failed';\r\n        alert(errorMsg);\r\n      }\r\n    } catch (error: any) {\r\n      alert(`Registration failed: ${error.message || 'Network error'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-white\">\r\n            Create your account\r\n          </h2>\r\n        </div>\r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n          <div>\r\n            <input\r\n              name=\"name\"\r\n              type=\"text\"\r\n              required\r\n              className=\"appearance-none rounded-lg relative block w-full px-3 py-3 border border-purple-400/30 bg-purple-900/40 backdrop-blur-sm placeholder-purple-300/60 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all mb-4\"\r\n              placeholder=\"Full Name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"email\"\r\n              type=\"email\"\r\n              required\r\n              className=\"appearance-none rounded-lg relative block w-full px-3 py-3 border border-purple-400/30 bg-purple-900/40 backdrop-blur-sm placeholder-purple-300/60 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all mb-4\"\r\n              placeholder=\"Email address\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              required\r\n              className=\"appearance-none rounded-lg relative block w-full px-3 py-3 border border-purple-400/30 bg-purple-900/40 backdrop-blur-sm placeholder-purple-300/60 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all mb-4\"\r\n              placeholder=\"Password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              name=\"phone\"\r\n              type=\"tel\"\r\n              className=\"appearance-none rounded-lg relative block w-full px-3 py-3 border border-purple-400/30 bg-purple-900/40 backdrop-blur-sm placeholder-purple-300/60 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all mb-4\"\r\n              placeholder=\"Phone Number (optional)\"\r\n              value={formData.phone}\r\n              onChange={handleChange}\r\n            />\r\n            <select\r\n              name=\"role\"\r\n              className=\"appearance-none rounded-lg relative block w-full px-3 py-3 border border-purple-400/30 bg-purple-900/40 backdrop-blur-sm text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all\"\r\n              value={formData.role}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"student\" className=\"bg-purple-900\">Student</option>\r\n              <option value=\"staff\" className=\"bg-purple-900\">Staff</option>\r\n              <option value=\"technician\" className=\"bg-purple-900\">Technician</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 transition-all shadow-lg shadow-purple-500/50\"\r\n            >\r\n              {loading ? 'Creating account...' : 'Create account'}\r\n            </button>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <Link href=\"/login\" className=\"text-purple-300 hover:text-purple-200 font-medium transition-colors\">\r\n              Already have an account? Sign in\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,MAAM;QACN,OAAO;QACP,UAAU;QACV,OAAO;QACP,MAAM;IACR;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,EAAE;gBACf,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,mCAAmC;gBACnC,MAAM,WAAW,KAAK,KAAK,GACvB,GAAG,KAAK,OAAO,CAAC,aAAa,EAAE,KAAK,KAAK,EAAE,GAC3C,KAAK,OAAO,IAAI;gBACpB,MAAM;YACR;QACF,EAAE,OAAO,OAAY;YACnB,MAAM,CAAC,qBAAqB,EAAE,MAAM,OAAO,IAAI,iBAAiB;QAClE,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,YAAY;YACV,GAAG,QAAQ;YACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACjC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BACC,cAAA,8OAAC;wBAAG,WAAU;kCAAsD;;;;;;;;;;;8BAItE,8OAAC;oBAAK,WAAU;oBAAiB,UAAU;;sCACzC,8OAAC;;8CACC,8OAAC;oCACC,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,WAAU;oCACV,aAAY;oCACZ,OAAO,SAAS,IAAI;oCACpB,UAAU;;;;;;8CAEZ,8OAAC;oCACC,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,WAAU;oCACV,aAAY;oCACZ,OAAO,SAAS,KAAK;oCACrB,UAAU;;;;;;8CAEZ,8OAAC;oCACC,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,WAAU;oCACV,aAAY;oCACZ,OAAO,SAAS,QAAQ;oCACxB,UAAU;;;;;;8CAEZ,8OAAC;oCACC,MAAK;oCACL,MAAK;oCACL,WAAU;oCACV,aAAY;oCACZ,OAAO,SAAS,KAAK;oCACrB,UAAU;;;;;;8CAEZ,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,OAAO,SAAS,IAAI;oCACpB,UAAU;;sDAEV,8OAAC;4CAAO,OAAM;4CAAU,WAAU;sDAAgB;;;;;;sDAClD,8OAAC;4CAAO,OAAM;4CAAQ,WAAU;sDAAgB;;;;;;sDAChD,8OAAC;4CAAO,OAAM;4CAAa,WAAU;sDAAgB;;;;;;;;;;;;;;;;;;sCAGzD,8OAAC;sCACC,cAAA,8OAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,UAAU,wBAAwB;;;;;;;;;;;sCAGvC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,uKAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAsE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhH"}}]
}